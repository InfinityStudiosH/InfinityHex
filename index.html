<!doctype html>
<html>
  <head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Orbitron&display=swap">
    <link rel="shortcut icon" href="https://cdn.discordapp.com/emojis/791742603183259648.webp?size=96&quality=lossless" type="image/x-icon">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/js-cookie@3.0.5/dist/js.cookie.min.js"></script>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>HEX Generator (RGB) | AlonsoAliaga Development</title>
    <meta name="theme-color" content="#9a14ff"/>
    <meta property="og:title" content="HEX Generator (RGB) | AlonsoAliaga Development">
    <meta property="og:image" content="https://raw.githubusercontent.com/AlonsoAliaga/alonsoaliaga.github.io/main/assets/img/apple-touch-icon.png">
    <meta property="og:description" content="Create HEX gradients for your server easily. Supports multiple formats, emojis, lore and MOTD!">
    <meta name="keywords" content="spigot, bungeecord, paper, alonsoaliaga, minecraft, plugins, html, css, javascript, java, hex, rgb, generator">
    <meta property="og:url" content="https://alonsoaliaga.github.io/index.html">
    <style>
      body {
        font-family: 'Orbitron', sans-serif;
        background: radial-gradient(ellipse at center, #0f0c29, #302b63, #24243e);
        color: white;
        background-attachment: fixed;
        background-size: cover;
        padding: 20px;
      }
      #outputText {
        background-color: rgba(0,0,0,0.7);
        border: 1px solid #9a14ff;
        border-radius: 10px;
        padding: 15px;
        color: #fff;
        cursor: pointer;
      }
      .favorite-color {
        width: 100%;
        height: 30px;
        margin-bottom: 5px;
        border-radius: 5px;
      }
    </style>
  </head>
  <body>
    <h1>HEX Generator (RGB) | AlonsoAliaga Development</h1>

    <div class="form-group">
      <label>Generate Color:</label>
      <input type="color" id="colorPicker" class="form-control" onchange="handleColorChange(this.value)">
    </div>

    <div class="row">
      <div class="col-md-4">
        <label>HEX</label>
        <input id="hexOutput" class="form-control" readonly>
      </div>
      <div class="col-md-4">
        <label>RGB</label>
        <input id="rgbOutput" class="form-control" readonly>
      </div>
      <div class="col-md-4">
        <label>HSL</label>
        <input id="hslOutput" class="form-control" readonly>
      </div>
    </div>

    <br>
    <h3>Historial reciente</h3>
    <div id="historyColors"></div>

    <br>
    <h3>Favoritos</h3>
    <div id="favoriteColors"></div>

    <br>
    <button class="btn btn-success" onclick="exportColors()">ðŸ“¥ Exportar Colores</button>

    <pre id="outputText">Haz clic para copiar</pre>

    <script>
      let history = [];
      let favorites = JSON.parse(localStorage.getItem('favorites')) || [];

      function handleColorChange(hex) {
        updateDisplays(hex);
        updateHistory(hex);
      }

      function updateDisplays(hex) {
        const rgb = hexToRgb(hex);
        const hsl = rgbToHsl(rgb.r, rgb.g, rgb.b);
        document.getElementById('hexOutput').value = hex;
        document.getElementById('rgbOutput').value = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b})`;
        document.getElementById('hslOutput').value = `hsl(${hsl.h}, ${hsl.s}%, ${hsl.l}%)`;
        document.getElementById('outputText').textContent = hex;
      }

      function updateHistory(hex) {
        if (history.includes(hex)) return;
        history.unshift(hex);
        if (history.length > 5) history.pop();
        const container = document.getElementById('historyColors');
        container.innerHTML = '';
        history.forEach(color => {
          const div = document.createElement('div');
          div.style.backgroundColor = color;
          div.className = 'favorite-color';
          div.onclick = () => handleColorChange(color);
          container.appendChild(div);
        });
      }

      function exportColors() {
        const blob = new Blob([history.join('\n')], { type: 'text/plain' });
        const link = document.createElement('a');
        link.href = URL.createObjectURL(blob);
        link.download = 'colors.txt';
        link.click();
      }

      function addFavorite(hex) {
        if (!favorites.includes(hex)) {
          favorites.push(hex);
          localStorage.setItem('favorites', JSON.stringify(favorites));
          renderFavorites();
        }
      }

      function renderFavorites() {
        const container = document.getElementById('favoriteColors');
        container.innerHTML = '';
        favorites.forEach(color => {
          const div = document.createElement('div');
          div.style.backgroundColor = color;
          div.className = 'favorite-color';
          div.onclick = () => handleColorChange(color);
          container.appendChild(div);
        });
      }

      function hexToRgb(hex) {
        const bigint = parseInt(hex.slice(1), 16);
        return {
          r: (bigint >> 16) & 255,
          g: (bigint >> 8) & 255,
          b: bigint & 255
        };
      }

      function rgbToHsl(r, g, b) {
        r /= 255; g /= 255; b /= 255;
        const max = Math.max(r, g, b), min = Math.min(r, g, b);
        let h, s, l = (max + min) / 2;
        if (max === min) { h = s = 0; }
        else {
          const d = max - min;
          s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
          switch (max) {
            case r: h = (g - b) / d + (g < b ? 6 : 0); break;
            case g: h = (b - r) / d + 2; break;
            case b: h = (r - g) / d + 4; break;
          }
          h /= 6;
        }
        return { h: Math.round(h * 360), s: Math.round(s * 100), l: Math.round(l * 100) };
      }

      document.getElementById('outputText').addEventListener('click', function () {
        navigator.clipboard.writeText(this.textContent);
        alert('Color copiado al portapapeles!');
      });

      renderFavorites();
    </script>
  </body>
</html>

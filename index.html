<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Generador de Colores HEX | Estilo Galaxia</title>
  <style>
    /* Fondo galaxia */
    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: radial-gradient(ellipse at center, #1b2735 0%, #090a0f 100%);
      color: white;
      transition: background 0.5s, color 0.5s;
      padding: 20px;
    }
    /* Contenedor */
    .container {
      max-width: 800px;
      margin: auto;
      background: rgba(10,10,30,0.7);
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 0 20px #6b1aff;
    }
    h1 {
      text-align: center;
      margin-bottom: 15px;
      color: #cda0ff;
      text-shadow: 0 0 6px #9a14ff;
    }
    label {
      font-weight: bold;
      display: block;
      margin-top: 15px;
    }
    input[type="color"] {
      width: 80px;
      height: 40px;
      border: none;
      cursor: pointer;
      border-radius: 6px;
      vertical-align: middle;
      margin-right: 10px;
      box-shadow: 0 0 8px #9a14ff;
      transition: box-shadow 0.3s ease;
    }
    input[type="color"]:focus {
      outline: none;
      box-shadow: 0 0 12px #d17aff;
    }
    input[type="text"] {
      width: 100%;
      font-size: 1.2em;
      padding: 8px 10px;
      margin-top: 10px;
      border-radius: 8px;
      border: none;
      box-shadow: 0 0 8px #9a14ff;
      background: #111;
      color: white;
      transition: box-shadow 0.3s ease;
    }
    input[type="text"]:focus {
      outline: none;
      box-shadow: 0 0 12px #d17aff;
    }
    .palette {
      display: flex;
      gap: 10px;
      margin-top: 10px;
      justify-content: center;
      flex-wrap: wrap;
    }
    .palette div {
      width: 50px;
      height: 50px;
      border-radius: 8px;
      box-shadow: 0 0 8px #9a14ff;
      cursor: pointer;
      transition: transform 0.2s ease;
      border: 2px solid transparent;
    }
    .palette div:hover {
      transform: scale(1.1);
      border-color: #d17aff;
    }
    #gradientPreview {
      margin-top: 20px;
      height: 80px;
      border-radius: 12px;
      box-shadow: 0 0 12px #9a14ff;
      background: linear-gradient(to right, #ff0000, #00ff00);
    }
    #outputCSS {
      background: #222;
      padding: 10px;
      margin-top: 15px;
      border-radius: 8px;
      font-family: monospace;
      cursor: pointer;
      user-select: all;
      box-shadow: 0 0 8px #6b1aff;
    }
    /* Vista previa texto */
    #previewText {
      margin-top: 25px;
      font-size: 1.4em;
      text-align: center;
      line-height: 1.6;
      user-select: none;
    }
    #previewText span {
      cursor: pointer;
      display: inline-block;
      padding: 5px 10px;
      border-radius: 6px;
      transition: background-color 0.3s ease;
    }
    #previewText span:hover {
      background-color: rgba(154, 20, 255, 0.3);
    }
    /* Botones */
    button {
      margin-top: 15px;
      background: #6b1aff;
      border: none;
      padding: 10px 18px;
      color: white;
      font-weight: bold;
      border-radius: 8px;
      cursor: pointer;
      box-shadow: 0 0 12px #9a14ff;
      transition: background 0.3s ease;
      margin-right: 10px;
    }
    button:hover {
      background: #9a14ff;
    }
    /* Modo oscuro */
    body.dark-mode {
      background: #090a0f;
      color: #eee;
    }
    /* NotificaciÃ³n pequeÃ±a */
    #snackbar {
      visibility: hidden;
      min-width: 200px;
      background-color: #6b1aff;
      color: white;
      text-align: center;
      border-radius: 4px;
      padding: 12px;
      position: fixed;
      z-index: 1;
      left: 50%;
      bottom: 30px;
      font-size: 17px;
      transform: translateX(-50%);
      box-shadow: 0 0 15px #9a14ff;
      user-select: none;
    }
    #snackbar.show {
      visibility: visible;
      animation: fadein 0.5s, fadeout 0.5s 2.5s;
    }
    @keyframes fadein {
      from {bottom: 0; opacity: 0;}
      to {bottom: 30px; opacity: 1;}
    }
    @keyframes fadeout {
      from {bottom: 30px; opacity: 1;}
      to {bottom: 0; opacity: 0;}
    }
  </style>
</head>
<body>

  <div class="container">
    <h1>Generador de Colores HEX | Estilo Galaxia</h1>

    <label>Selecciona colores para la paleta:</label>
    <div class="palette" id="paletteInputs">
      <!-- Inputs se generan con JS -->
    </div>

    <div>
      <button id="addColorBtn" title="Agregar color">âž• Agregar color</button>
      <button id="removeColorBtn" title="Quitar Ãºltimo color">âž– Quitar color</button>
      <button id="randomPaletteBtn" title="Paleta aleatoria">ðŸŽ² Paleta Aleatoria</button>
      <button id="toggleDarkModeBtn" title="Modo oscuro">ðŸŒ™ Modo Oscuro</button>
    </div>

    <label for="customText">Escribe tu texto personalizado:</label>
    <input type="text" id="customText" placeholder="Escribe aquÃ­... (ej. Hola Mundo)" />

    <div id="gradientPreview" title="Vista previa del gradiente"></div>

    <pre id="outputCSS" title="Click para copiar CSS"></pre>

    <div id="previewText" title="Haz click en el texto para copiarlo">
      <p>Normal: <span id="normalText" style="color:#fff;">Texto de ejemplo</span></p>
      <p>Bold: <span id="boldText" style="color:#fff; font-weight: bold;">Texto de ejemplo</span></p>
      <p>Italic: <span id="italicText" style="color:#fff; font-style: italic;">Texto de ejemplo</span></p>
    </div>
  </div>

  <div id="snackbar">Texto copiado al portapapeles!</div>

<script>
  // Variables
  let palette = [];
  const paletteInputsDiv = document.getElementById('paletteInputs');
  const gradientPreview = document.getElementById('gradientPreview');
  const outputCSS = document.getElementById('outputCSS');
  const randomPaletteBtn = document.getElementById('randomPaletteBtn');
  const toggleDarkModeBtn = document.getElementById('toggleDarkModeBtn');
  const addColorBtn = document.getElementById('addColorBtn');
  const removeColorBtn = document.getElementById('removeColorBtn');
  const customTextInput = document.getElementById('customText');
  const normalTextSpan = document.getElementById('normalText');
  const boldTextSpan = document.getElementById('boldText');
  const italicTextSpan = document.getElementById('italicText');
  const snackbar = document.getElementById('snackbar');

  // Limites para colores
  const minColors = 2;
  const maxColors = 10;

  // Crear input de color y aÃ±adir al DOM y palette
  function addColor(value) {
    if(palette.length >= maxColors) return alert("MÃ¡ximo 10 colores en la paleta.");
    const input = document.createElement('input');
    input.type = 'color';
    input.value = value || '#'+randomHexColor();
    input.addEventListener('input', () => {
      const index = paletteInputsDiv.querySelectorAll('input[type=color]').indexOf(input);
      // actualizamos palette segÃºn el orden actual de inputs
      palette = Array.from(paletteInputsDiv.querySelectorAll('input[type=color]')).map(i => i.value);
      updateGradient();
      updatePreviewColors(palette[0]);
    });
    paletteInputsDiv.appendChild(input);
    palette.push(input.value);
    updateGradient();
    updatePreviewColors(palette[0]);
  }

  // Eliminar Ãºltimo color
  function removeColor() {
    if(palette.length <= minColors) return alert("Se necesitan al menos 2 colores.");
    palette.pop();
    paletteInputsDiv.removeChild(paletteInputsDiv.lastElementChild);
    updateGradient();
    updatePreviewColors(palette[0]);
  }

  // Actualizar gradiente y CSS
  function updateGradient() {
    palette = Array.from(paletteInputsDiv.querySelectorAll('input[type=color]')).map(i => i.value);
    const gradient = `linear-gradient(to right, ${palette.join(', ')})`;
    gradientPreview.style.background = gradient;

    outputCSS.textContent = `background: ${gradient};`;
  }

  // Generar color HEX aleatorio
  function randomHexColor() {
    return Math.floor(Math.random()*16777215).toString(16).padStart(6,'0');
  }

  // Generar paleta aleatoria
  function randomPalette() {
    paletteInputsDiv.innerHTML = '';
    palette = [];
    const nColors = Math.floor(Math.random() * (maxColors - minColors + 1)) + minColors;
    for(let i=0; i<nColors; i++) {
      addColor('#'+randomHexColor());
    }
  }

  // Copiar al portapapeles y mostrar notificaciÃ³n
  function copyToClipboard(text) {
    navigator.clipboard.writeText(text).then(() => {
      snackbar.classList.add('show');
      setTimeout(() => snackbar.classList.remove('show'), 3000);
    }).catch(() => alert('No se pudo copiar al portapapeles'));
  }

  // Actualizar colores del texto de vista previa
  function updatePreviewColors(color) {
    normalTextSpan.style.color = color;
    boldTextSpan.style.color = color;
    italicTextSpan.style.color = color;
  }

  // Actualizar texto de vista previa con el texto personalizado
  function updatePreviewText() {
    const text = customTextInput.value.trim() || "Texto de ejemplo";
    normalTextSpan.textContent = text;
    boldTextSpan.textContent = text;
    italicTextSpan.textContent = text;
  }

  // Eventos para copiar texto cuando se hace click
  [normalTextSpan, boldTextSpan, italicTextSpan].forEach(span => {
    span.addEventListener('click', () => {
      copyToClipboard(span.textContent);
    });
  });

  // Copiar CSS al hacer click en outputCSS
  outputCSS.addEventListener('click', () => {
    copyToClipboard(outputCSS.textContent);
  });

  // Eventos para botones
  addColorBtn.addEventListener('click', () => addColor('#'+randomHexColor()));
  removeColorBtn.addEventListener('click', removeColor);
  randomPaletteBtn.addEventListener('click', randomPalette);
  toggleDarkModeBtn.addEventListener('click', () => {
    document.body.classList.toggle('dark-mode');
  });
  customTextInput.addEventListener('input', () => {
    updatePreviewText();
  });

  // Inicializar con 3 colores y texto default
  function init() {
    paletteInputsDiv.innerHTML = '';
    palette = [];
    addColor('#ff0000');
    addColor('#00ff00');
    addColor('#0000ff');
    updatePreviewText();
  }

  init();
</script>

</body>
</html>
